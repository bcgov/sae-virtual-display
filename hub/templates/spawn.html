<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Workbench</title>
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="{{ static_url("css/reset.css") }}"
    type="text/css" /> <link rel="stylesheet" href="{{
    static_url("css/atlaskit-reduced-ui.css") }}" type="text/css"/>
    <style>
      body {
        background: #eee;
      }

      #main {
        width: 100vw;
        position: relative;
      }

    </style>
  </head>

  <body>
    <div id="main">Loading...</div>
    <noscript>
      <div id="noscript">
        JupyterHub requires JavaScript.<br />
        Please enable it to proceed.
      </div>
    </noscript>
    <script
      type="text/javascript"
      src="{{ static_url('js/bundle.js') }}"
    ></script>
    <script>
      var spawn_options = {{spawner_options_form | safe}}

      var logos_def = {
          notebook: {
            image: '{{static_url('images/notebook-logo.png')}}'
          },
          rstudio: {
            image: '{{static_url('images/rstudio-logo.png')}}'
          },
          browser: {
            image: '{{static_url('images/browser-logo.png')}}'
          }
      }
      
      var apps = spawn_options.applications.map(m => {
          m.image = logos_def[m.logo].image;
          return m;
      });

      (function(config) {
        workbench.run(config);
      })({
        announcement: '{{ announcement | safe }}',
        staticURL: '{{static_url('')}}',
        formAction: '{{url}}',
        user: '{{user.name}}',
        apps: apps,
        projects: spawn_options.projects
      })
    </script>
  </body>
</html>
