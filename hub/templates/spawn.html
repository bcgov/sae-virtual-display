<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Workbench</title>
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="{{ static_url("css/reset.css") }}"
    type="text/css" /> <link rel="stylesheet" href="{{
    static_url("css/atlaskit-reduced-ui.css") }}" type="text/css"/>
    <style>
      body {
        background: #eee;
      }

      #main {
        width: 100vw;
        position: relative;
      }

    </style>
  </head>

  <body>
    <div id="main">Loading...</div>
    <noscript>
      <div id="noscript">
        SAE requires JavaScript.<br />
        Please enable it to proceed.
      </div>
    </noscript>
    <script
      type="text/javascript"
      src="{{ static_url('js/bundle.js') }}"
    ></script>
    <script>
      const spawnOptions = {{spawner_options_form | safe}};

      const logosDef = {
          notebook: {
            label: 'Jupyter Notebook',
            image: '{{static_url('images/notebook-logo.png')}}'
          },
          rstudio: {
            label: 'R Studio',
            image: '{{static_url('images/rstudio-logo.png')}}'
          },
          browser: {
            label: 'Chrome Browser',
            image: '{{static_url('images/browser-logo.png')}}'
          },
          anaconda: {
            label: 'Anaconda',
            image: '{{static_url('images/anaconda.png')}}'
          },
          datacurator: {
            label: 'DataCurator',
            image: '{{static_url('images/datacurator-logo.png')}}'
          }
      };

      const apps = spawnOptions.applications.map(m => {
        return {
          name: m,
          label: logosDef[m].label,
          image: logosDef[m].image
        };
      });

      (function(config) {
        workbench.run(config);
      })({
        announcement: '{{ announcement | safe }}',
        staticURL: '{{static_url('')}}',
        user: '{{user.name}}',
        apps: apps,
        projects: spawnOptions.projects
      })
    </script>
  </body>
</html>
